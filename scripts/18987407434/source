local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/jensonhirst/Orion/main/source')))()

local suggestedGameID = 18987407434
local currentGameID = game.PlaceId

local walkspeed = 16
local teleportOffset = 16
local scriptActive = true

spawn(function()
    while scriptActive do
        local player = game.Players.LocalPlayer
        local character = player.Character or player.CharacterAdded:Wait()
        local humanoid = character:WaitForChild("Humanoid")
        if humanoid.WalkSpeed ~= walkspeed then
            humanoid.WalkSpeed = walkspeed
        end
        wait(0.1)
    end
end)

function createMainWindow()
	local Window = OrionLib:MakeWindow({Name = "GiggleHub | Blob Eating Simulator", HidePremium = false, SaveConfig = true, ConfigFolder = "GiggleHub-BlobEatingSim"})
	local Tab = Window:MakeTab({Name = "Menu", Icon = "rbxassetid://4483345998", PremiumOnly = false})
	Tab:AddSection({Name = "Menu"})
	Tab:AddSlider({Name = "Walkspeed", Min = 16, Max = 500, Default = walkspeed, Color = Color3.fromRGB(255, 255, 255), Increment = 1, ValueName = "Walkspeed", Callback = function(Value) walkspeed = Value end})
	Tab:AddSlider({Name = "Teleport Offset", Min = 0, Max = 100, Default = teleportOffset, Color = Color3.fromRGB(255, 255, 255), Increment = 1, ValueName = "Offset", Callback = function(Value) teleportOffset = Value end})
	local AutoFarmToggle = false
	Tab:AddToggle({Name = "Toggle Autofarm", Default = false, Callback = function(Value)
		AutoFarmToggle = Value
		if AutoFarmToggle then
			spawn(function()
				while AutoFarmToggle and scriptActive do
					local success, err = pcall(function()
						local player = game.Players.LocalPlayer
						local character = player.Character or player.CharacterAdded:Wait()
						local humanoid = character:WaitForChild("Humanoid")
						local foodFolder = game.Workspace.Game:WaitForChild("Food")
						for _, food in pairs(foodFolder:GetChildren()) do
							if not AutoFarmToggle or not scriptActive then break end
							if food:IsA("Model") then
								local hitbox = food:FindFirstChild("Hitbox")
								if hitbox and hitbox:IsA("BasePart") then
									local offsetCFrame = hitbox.CFrame * CFrame.new(0, 0, teleportOffset)
									character:SetPrimaryPartCFrame(offsetCFrame)
									humanoid:MoveTo(hitbox.Position)
									humanoid.MoveToFinished:Wait()
									wait(0.1)
								end
							end
						end
						wait(0.1)
					end)
					if not success then
						print("Error in Autofarm: ", err)
					end
				end
			end)
		end
	end})
	Tab:AddButton({Name = "Kill Script", Callback = function() scriptActive = false OrionLib:Destroy() end})
end

if currentGameID ~= suggestedGameID then
	local WarningWindow = OrionLib:MakeWindow({Name = "Warning", HidePremium = false, SaveConfig = false, ConfigFolder = "GiggleHub-Warning"})
	local WarningTab = WarningWindow:MakeTab({Name = "Warning", Icon = "rbxassetid://4483345998", PremiumOnly = false})
	WarningTab:AddLabel("This script is made for the Game ID ")
	WarningTab:AddLabel(suggestedGameID .. " but this isn't it.")
	WarningTab:AddLabel("Do you want to continue anyway?")
	WarningTab:AddButton({Name = "Continue", Callback = function() createMainWindow() WarningWindow:Destroy() end})
	WarningTab:AddButton({Name = "Cancel", Callback = function() scriptActive = false OrionLib:Destroy() end})
else
	createMainWindow()
end
